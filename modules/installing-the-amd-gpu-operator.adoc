:_module-type: PROCEDURE

[id="installing-the-amd-gpu-operator_{context}"]
= Installing the AMD GPU Operator

[role='_abstract']
Before you can use AMD ROCm workbench images with AMD GPUs, you must install and configure the AMD GPU Operator in {openshift-platform}, including verifying the AMD GPU driver build process and ensuring GPU resources are available.

.Prerequisites
* You have administrative access to the {openshift-platform}.
* You have a running OpenShift cluster with version 4.14 or later.
* You have at least one node equipped with an AMD GPU.
* You have the OpenShift CLI (`oc`) installed and configured to interact with your cluster.

.Procedure
. Log in to the OpenShift web console.
. Navigate to **Operators > OperatorHub**.
. In the search bar, enter "AMD GPU Operator" to locate the operator.
. Click the **AMD GPU Operator** tile to open its details page.
. Click **Install**.
. In the **Install Operator** page:
.. Select the installation mode:
... To install the operator for all namespaces, choose **All namespaces on the cluster (default)**.
... To install for a specific namespace, select **A specific namespace on the cluster** and select a namespace.
.. Set the approval strategy:
... For automatic updates, select **Automatic**.
... For manual updates, select **Manual**.
.. Click **Install** to proceed.
. Monitor the installation progress:
.. Navigate to **Operators > Installed Operators**.
.. Ensure the **AMD GPU Operator** status is **Succeeded**.
. After installation, create an instance of the AMD GPU Operator:
.. In the **Installed Operators** page, click on **AMD GPU Operator**.
.. Click **Create Instance**.
.. In the **Create AMDGPUCluster** page, review the default configuration.
.. Click **Create** to deploy the instance.
. Monitor the AMD GPU driver build process:
.. List the pods in the `openshift-amd-gpu` namespace:
+
----
oc get pods -n openshift-amd-gpu
----
.. Identify the pod responsible for building the AMD GPU driver. It will have a name similar to `dc-internal-registry-build-<unique-id>-build`.
.. Follow the build logs to monitor the progress:
+
----
oc logs <build_pod_name> -n openshift-amd-gpu -f
----
.. Verify that the logs show a successful build and image push to the internal registry. Example:
+
----
Successfully pushed image-registry.openshift-image-registry.svc:5000/openshift-amd-gpu/amd_gpu_kmm_modules@sha256:<hash>
Push successful
----
. Verify that the AMD GPU resources are available for scheduling:
.. Describe the node and check the resource allocation:
+
----
oc describe node | egrep "Resource.*Requests|amd.com/gpu"
----
.. Confirm the output lists `amd.com/gpu` resources. Example:
+
----
amd.com/gpu:        1
Resource           Requests      Limits
amd.com/gpu        0             0
----

.Verification
* The **AMD GPU Operator** is installed, and its status is **Succeeded**.
* The AMD GPU driver is successfully built and pushed to the internal registry.
* The `amd.com/gpu` resource is available on the nodes.

[role="_additional-resources"]
.Additional resources
* link:https://github.com/ROCm/gpu-operator[AMD GPU Operator GitHub Repository]

